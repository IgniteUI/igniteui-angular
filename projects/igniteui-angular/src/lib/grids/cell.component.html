<ng-template #defaultPinnedIndicator>
    <igx-chip
        *ngIf="displayPinnedChip"
        class="igx-grid__td--pinned-chip"
        [disabled]="true"
        [displayDensity]="'compact'"
        >{{ grid.resourceStrings.igx_grid_pinned_row_indicator }}</igx-chip
    >
</ng-template>
<ng-template #defaultCell>
    <div *ngIf="column.dataType !== 'boolean'"
        igxTextHighlight
        class="igx-grid__td-text"
        style="pointer-events: none;"
        [cssClass]="highlightClass"
        [activeCssClass]="activeHighlightClass"
        [groupName]="gridID"
        [value]="
            formatter
                ? (value | columnFormatter:formatter:rowData)
                : column.dataType === 'number'
                ? (value | number:column.pipeArgs.digitsInfo:grid.locale)
                : (column.dataType === 'date' || column.dataType === 'time' || column.dataType === 'dateTime')
                ? (value | date:column.pipeArgs.format:column.pipeArgs.timezone:grid.locale)
                : column.dataType === 'currency'
                ? (value | currency:currencyCode:column.pipeArgs.display:column.pipeArgs.digitsInfo:grid.locale)
                : column.dataType === 'percent'
                ? (value | percent:column.pipeArgs.digitsInfo:grid.locale)
                : value
        "
        [row]="rowData"
        [column]="this.column.field"
        [containerClass]="'igx-grid__td-text'"
        [metadata]="searchMetadata"
    >{{
            formatter
                ? (value | columnFormatter:formatter:rowData)
                : column.dataType === "number"
                ? (value | number:column.pipeArgs.digitsInfo:grid.locale)
                : (column.dataType === 'date' || column.dataType === 'time' || column.dataType === 'dateTime')
                ? (value | date:column.pipeArgs.format:column.pipeArgs.timezone:grid.locale)
                : column.dataType === 'currency'
                ? (value | currency:currencyCode:column.pipeArgs.display:column.pipeArgs.digitsInfo:grid.locale)
                : column.dataType === 'percent'
                ? (value | percent:column.pipeArgs.digitsInfo:grid.locale)
                : value
        }}</div>
    <igx-icon
        *ngIf="column.dataType === 'boolean'"
        [ngClass]="{ 'igx-icon--success': value, 'igx-icon--error': !value }"
        >{{ value ? "check" : "close" }}</igx-icon
    >
</ng-template>
<ng-template #addRowCell let-cell="cell">
    <div igxTextHighlight class="igx-grid__td-text" style="pointer-events: none"
    [cssClass]="highlightClass"
    [activeCssClass]="activeHighlightClass"
    [groupName]="gridID"
    [value]="formatter ? (value | columnFormatter:formatter:rowData) : column.dataType === 'number' ?
        (value | number:column.pipeArgs.digitsInfo:grid.locale) : (column.dataType === 'date' || column.dataType === 'time' || column.dataType === 'dateTime') ?
        (value | date:column.pipeArgs.format:column.pipeArgs.timezone:grid.locale) : column.dataType === 'currency' ?
        (value | currency:currencyCode:column.pipeArgs.display:column.pipeArgs.digitsInfo:grid.locale) : column.dataType === 'percent' ?
        (value | percent:column.pipeArgs.digitsInfo:grid.locale) : value"
    [row]="rowData"
    [column]="this.column.field"
    [containerClass]="'igx-grid__td-text'"
    [metadata]="searchMetadata">{{
        !isEmptyAddRowCell ? value : (column.header || column.field)
    }}</div>
</ng-template>
<ng-template #inlineEditor let-cell="cell">
    <ng-container *ngIf="column.dataType === 'string'">
        <igx-input-group displayDensity="compact">
            <input
                igxInput
                [(ngModel)]="editValue"
                [igxFocus]="true"
            />
        </igx-input-group>
    </ng-container>
    <ng-container *ngIf="column.dataType === 'number'">
        <igx-input-group displayDensity="compact">
            <input
                igxInput
                [(ngModel)]="editValue"
                [igxFocus]="true"
                [step]="step"
                type="number"
            />
        </igx-input-group>
    </ng-container>
    <ng-container *ngIf="column.dataType === 'boolean'">
        <!-- The additional [checked] binding is needed as after the initial call of the checked getter
        it is never called again as no change detection is triggered in the grid after that, resulting in wrong
        rendered state of the checkbox. -->
        <igx-checkbox
            [(ngModel)]="editValue"
            [checked]="editValue"
            [igxFocus]="true"
            [disableRipple]="true"
        ></igx-checkbox>
    </ng-container>
    <ng-container *ngIf="column.dataType === 'date'">
        <igx-date-picker
            [style.width.%]="100"
            [outlet]="grid.outlet"
            mode="dropdown"
            [locale]="grid.locale"
            [(value)]="editValue"
            [igxFocus]="true"
        >
        </igx-date-picker>
    </ng-container>
    <ng-container *ngIf="column.dataType === 'time'">
        <igx-time-picker
            [style.width.%]="100"
            [outlet]="grid.outlet"
            mode="dropdown"
            [locale]="grid.locale"
            [inputFormat]="column.defaultTimeFormat"
            [(value)]="editValue"
            [igxFocus]="true"
            >
        </igx-time-picker>
    </ng-container>
    <ng-container *ngIf="column.dataType === 'dateTime'">
        <igx-input-group>
            <input type="text" igxInput [igxDateTimeEditor]="column.defaultDateTimeFormat" [(ngModel)]="editValue" [igxFocus]="true"/>
        </igx-input-group>
    </ng-container>
    <ng-container *ngIf="column.dataType === 'currency'">
        <igx-input-group displayDensity="compact">
            <igx-prefix *ngIf="grid.currencyPositionLeft">{{ currencyCodeSymbol }}</igx-prefix>
            <input
                igxInput
                [(ngModel)]="editValue"
                [igxFocus]="true"
                [step]="step"
                type="number"
            />
            <igx-suffix *ngIf="!grid.currencyPositionLeft" >{{ currencyCodeSymbol }}</igx-suffix>
        </igx-input-group>
    </ng-container>
    <ng-container *ngIf="column.dataType === 'percent'">
        <igx-input-group displayDensity="compact">
            <input
                igxInput
                [(ngModel)]="editValue"
                [igxFocus]="true"
                [step]="step"
                type="number"
            />
            <igx-suffix> {{ editValue | percent:column.pipeArgs.digitsInfo:grid.locale }} </igx-suffix>
        </igx-input-group>
    </ng-container>
</ng-template>
<ng-container *ngTemplateOutlet="pinnedIndicatorTemplate; context: context">
</ng-container>
<ng-container *ngTemplateOutlet="template; context: context"></ng-container>
