@use 'sass:map';
@use 'igniteui-theming/sass/bem' as *;
@use 'igniteui-theming/sass/themes' as *;
@use 'igniteui-theming/sass/typography' as *;
@use 'igniteui-theming/sass/color/functions' as *;
@use 'styles/themes/standalone' as *;
@use './light/tokens' as *;

$_theme: $material;

@include layer(base) {
    %actions {
        user-select: none;
        cursor: pointer;
    }

    @include b(igx-pivot-data-selector) {
        display: flex;
        flex-direction: column;
        max-width: rem(280px);
        background: var-get($_theme, 'background');
        z-index: 0;

        igx-input-group {
            input {
                transform: none;
            }
    
            [igxPrefix] {
                box-sizing: content-box;
            }
    
            .igx-input-group__bundle-main {
                padding-top: 0 !important;
            }
        }

        > igx-list {
            igx-display-container {
                padding: rem(4px);
            }

            igx-list-item {
                display: flex;
                min-height: rem(28px);
            }
        }

        .igx-expansion-panel__body {
            position: relative;
            height: rem(128px);
            font-size: rem(14px);
            padding: rem(4px);
            overflow-y: auto;

            igx-list {
                height: auto;
            }
        }

        .igx-expansion-panel__header-icon--start {
            margin-inline-end: rem(8px);
        }

        igx-expansion-panel-title.igx-expansion-panel__header-title {
            display: flex;

            > h6 {
                font-size: rem(12px);
                margin-bottom: 0;
            }
        }

        .igx-expansion-panel__header-inner {
            background: var-get($_theme, 'header-color');
            padding: rem(4px);

            .dragOver & {
                background: color($color: 'gray', $variant: 300);
                box-shadow: inset 0 0 0 rem(1px) color($color: 'gray', $variant: 400);
            }
        }

        igx-icon {
            --size: var(--igx-icon-size, #{rem(18px)});
        }

        @include e(header) {
            display: flex;
            align-items: center;
        }

        @include e(header-extra) {
            display: flex;
            align-items: center;

            igx-icon {
                padding: 0 rem(8px);
                box-sizing: content-box !important;
            }
    
            .igx-chip__item {
                height: sizable(rem(18px), rem(20px), rem(22px));
            }
    
            .igx-chip__content {
                padding: 0 rem(2px);
            }
        }

        @include e(filter) {
            display: flex;
            flex-direction: column;
            overflow: hidden;

            igx-list {
                display: flex;
                flex-direction: column;
                padding: rem(8px) rem(4px);
                min-height: rem(186px);
                max-height: rem(208px);
                overflow-y: auto;
            }

            igx-list-item {
                display: flex;
            }

            igx-checkbox + span {
                margin-inline-start: rem(8px);
                line-height: rem(28px);
            }
        }

        @include e(item) {
            display: flex;
            align-items: center;
            justify-content: space-between;
            min-height: rem(32px);
            width: 100%;

            .igx-drag--push & {
                padding-top: rem(32px);
            }
        }

        @include e(item-ghost) {
            display: flex;
            align-items: center;
            justify-content: space-between;
            font-size: rem(14px);
            background: color($color: 'surface');
            min-height: rem(32px);
            height: auto;
            padding: 0 rem(2px) 0 rem(4px);
            cursor: grabbing;
            box-shadow: elevation(24);
            border: rem(1px) solid color($color: 'gray', $variant: 100);
            border-radius: border-radius(rem(2px));
            z-index: 10;

            igx-icon {
                --size: var(--igx-icon-size, #{rem(18px)});
            }
        }

        @include e(item-ghost, $m: no-drop) {
            cursor: no-drop;
        }

        @include e(item-ghost-text) {
            display: flex;
            align-items: center;

            igx-icon {
                margin-inline-end: rem(8px);
            }
        }

        @include e(item-start) {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex: 0 1 100%;
            margin-inline-end: rem(8px);
            overflow: hidden;
        }

        @include e(item-end) {
            display: flex;

            igx-icon + igx-icon {
                margin-inline-start: rem(8px);
            }
        }

        @include e(item-text) {
            @include ellipsis();

            max-width: calc(100% - rem(18px) + rem(8px));
            user-select: none;
        }

        @include e(action-sort) {
            @extend %actions;
        }

        @include e(action-filter) {
            @extend %actions;
        }

        @include e(action-summary) {
            @extend %actions;
        }

        @include e(action-move) {
            user-select: none;
            cursor: grab;
        }
    }
}
