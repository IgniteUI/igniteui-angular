// Standard imports
@use 'sass:math';
@use '../../projects/igniteui-angular/core/src/core/styles/themes' as *;
@use 'variables' as *;
@use 'mixins' as *;
@use 'app-layout';

/* autoprefixer grid: on */
body {
    background: $background-color;
    color: $foreground-color;
}

:root {
    --some-dynamic-color: hsl(#{math.random(360)}, 100%, 50%);
}

@include core();
@include typography($font-family: $typeface, $type-scale: $type-scale);
@include theme($palette: $palette, $schema: $schema);

.dock {
    @include css-vars(dock-manager-theme());
}

.nav-header {
    @if $variant == 'light' {
        @include nav-logo('../assets/images/rsrcs/igniteui-logo-light-bg.png');
    } @else {
        @include nav-logo('../assets/images/rsrcs/igniteui-logo-dark-bg.png');
    }
}

// ============================================================================
// Rosé Pine Date Range Picker Theme (dark)
// Iris (#c4a7e7) primary with Gold (#f6c177) accents on Base (#191724)
// ============================================================================

// 1. Date range picker root — separator label + input group styling
$rose-pine-date-range-picker: date-range-picker-theme(
    $schema: $dark-bootstrap-schema,
    $label-color: #c4a7e7,
);

$rose-pine-drp-input-group: input-group-theme(
    $schema: $dark-bootstrap-schema,
    $focused-bottom-line-color: #c4a7e7,
    $focused-secondary-color: #c4a7e7,
    $idle-bottom-line-color: #6e6a86,
    $hover-bottom-line-color: #908caa,
);

igx-date-range-picker {
    @include tokens($rose-pine-date-range-picker);
    @include tokens($rose-pine-drp-input-group);
}

// 2. Calendar & button themes scoped to the picker overlay
$rose-pine-drp-calendar: calendar-theme(
    $schema: $dark-bootstrap-schema,
    $content-background: #1f1d2e,
    $header-background: #26233a,
    $border-color: #2e2b44,
    $border-radius: 12px,
    $date-border-radius: 50%,
    $date-selected-background: #c4a7e7,
    $date-selected-hover-background: #b690df,
    $date-selected-focus-background: #a77ad7,
    $date-selected-range-background: #3a2e56,
    $date-selected-range-foreground: #e0def4,
    $date-selected-range-hover-background: #443662,
    $date-selected-range-hover-foreground: #e0def4,
    $date-selected-range-focus-background: #443662,
    $date-selected-range-focus-foreground: #e0def4,
    $date-current-border-color: #f6c177,
    $date-current-hover-border-color: #f9c088,
    $date-current-focus-border-color: #f6c177,
    $date-hover-background: #26233a,
    $date-special-foreground: #eb6f92,
    $picker-background: #26233a,
    $ym-selected-background: #c4a7e7,
    $ym-hover-background: #26233a,
    $ym-current-outline-color: #f6c177,
    $week-number-background: #191724,
);

$rose-pine-drp-flat-button: flat-button-theme(
    $schema: $dark-bootstrap-schema,
    $foreground: #ebbcba,
    $hover-background: rgba(235, 188, 186, 0.08),
    $focus-background: rgba(235, 188, 186, 0.12),
    $active-background: rgba(235, 188, 186, 0.16),
);

.igx-date-picker {
    @include tokens($rose-pine-drp-calendar);
    @include tokens($rose-pine-drp-flat-button);
}

// ============================================================================
// Rosé Pine Grid Theme (dark)
// A complete compound grid theme using the full Rosé Pine color palette
// ============================================================================

// Primary grid theme — content, headers, rows, cells, groups, filtering
$rose-pine-grid: grid-theme(
    $schema: $dark-bootstrap-schema,
    $content-background: #1f1d2e,
    $content-text-color: #e0def4,
    $header-background: #26233a,
    $header-text-color: #908caa,
    $header-border-color: #2e2b44,
    $header-selected-background: #3a2e56,
    $row-odd-background: #1f1d2e,
    $row-even-background: #191724,
    $row-hover-background: #26233a,
    $row-hover-text-color: #e0def4,
    $row-selected-background: #3a2e56,
    $row-selected-text-color: #e0def4,
    $row-selected-hover-background: #443662,
    $row-border-color: #2e2b44,
    $cell-active-border-color: #c4a7e7,
    $cell-selected-background: #3a2e56,
    $cell-selected-text-color: #e0def4,
    $cell-editing-background: #26233a,
    $cell-edited-value-color: #f6c177,
    $cell-new-color: #31748f,
    $edit-mode-color: #c4a7e7,
    $edited-row-indicator: #f6c177,
    $ghost-header-background: #26233a,
    $group-row-background: #26233a,
    $grouparea-background: #191724,
    $filtering-header-background: #2e2b44,
    $filtering-row-background: #26233a,
    $sorted-header-icon-color: #c4a7e7,
    $resize-line-color: #c4a7e7,
    $drop-indicator-color: #c4a7e7,
    $row-highlight: #eb6f92,
    $pinned-border-color: #6e6a86,
    $grid-border-color: #2e2b44,
    $drop-area-border-radius: 8px,
);

// Grid toolbar
$rose-pine-grid-toolbar: grid-toolbar-theme(
    $schema: $dark-bootstrap-schema,
    $background-color: #191724,
    $title-text-color: #e0def4,
    $dropdown-background: #26233a,
    $item-hover-background: #2e2b44,
    $item-focus-background: #3a2e56,
    $border-color: #2e2b44,
);

// Grid summaries
$rose-pine-grid-summary: grid-summary-theme(
    $schema: $dark-bootstrap-schema,
    $background-color: #26233a,
    $label-color: #c4a7e7,
    $label-hover-color: #ebbcba,
    $result-color: #e0def4,
    $border-color: #2e2b44,
);

// Paginator
$rose-pine-paginator: paginator-theme(
    $schema: $dark-bootstrap-schema,
    $background-color: #191724,
    $text-color: #908caa,
    $border-color: #2e2b44,
);

// Row selection checkboxes
$rose-pine-checkbox: checkbox-theme(
    $schema: $dark-bootstrap-schema,
    $fill-color: #c4a7e7,
    $empty-color: #6e6a86,
    $label-color: #e0def4,
    $error-color: #eb6f92,
    $focus-outline-color: #c4a7e7,
);

// Grid action buttons (toolbar, filtering, etc.)
$rose-pine-grid-flat-button: flat-button-theme(
    $schema: $dark-bootstrap-schema,
    $foreground: #ebbcba,
    $hover-background: rgba(235, 188, 186, 0.08),
    $focus-background: rgba(235, 188, 186, 0.12),
    $active-background: rgba(235, 188, 186, 0.16),
);

// Apply all grid sub-themes to every grid variant
igx-grid,
igx-tree-grid,
igx-hierarchical-grid,
igx-pivot-grid {
    @include tokens($rose-pine-grid);
    @include tokens($rose-pine-grid-toolbar);
    @include tokens($rose-pine-grid-summary);
    @include tokens($rose-pine-paginator);
    @include tokens($rose-pine-checkbox);
    @include tokens($rose-pine-grid-flat-button);
}
