@use 'sass:map';
@use 'sass:meta';
@use '../../base' as *;
@use '../../themes/schemas' as *;
@use 'igniteui-theming/sass/animations/easings' as *;

////
/// @group themes
/// @access public
/// @author <a href="https://github.com/simeonoff" target="_blank">Simeon Simeonoff</a> //
/// @param {Map} $schema [$light-schema] - The schema used as basis for styling the component.
/// @param {Map} $elevations [null] - The elevations (shadows) map to be used.  /
/// @param {Color} $idle-text-color [null] - The input text color in the idle state.
/// @param {Color} $filled-text-color [null] - The input text color in the filled state.
/// @param {Color} $focused-text-color [null] - The input text color in the focused state.
/// @param {Color} $disabled-text-color [null] - The input text color in the disabled state.
/// @param {Color} $input-prefix-color [null] - The input prefix color in the idle state.
/// @param {Color} $input-prefix-background [null] - The background color of an input prefix in the idle state.
/// @param {Color} $input-suffix-color [null] - The input suffix color in the idle state.
/// @param {Color} $input-suffix-background [null] - The background color of an input sufix in the idle state.
/// @param {Color} $idle-secondary-color [null] - The label color in the idle state.
/// @param {Color} $filled-secondary-color [null] - The label color in the filled state.
/// @param {Color} $focused-secondary-color [null] - The label color in the focused state.
/// @param {Color} $idle-bottom-line-color [null] - The bottom line and border colors in the idle state.
/// @param {Color} $hover-bottom-line-color [null] - The bottom line and border colors in the hover state.
/// @param {Color} $focused-bottom-line-color [null] - The bottom line and border colors in the focused state.
/// @param {Color} $interim-bottom-line-color [null] - The bottom line and border colors during the to-focused transition.
/// @param {Color} $disabled-bottom-line-color [null] - The bottom line and border colors in the disabled state.
/// @param {Color} $border-color [null] - The border color for input groups of type border and fluent.
/// @param {Color} $hover-border-color [null] - The hover input border for input groups of type border and fluent.
/// @param {Color} $focused-border-color [null] - The focused input border color for input groups of type border and fluent.
/// @param {Color} $disabled-border-color [null] - The disabled border color for input groups of type border and fluent.
/// @param {Color} $box-background [null] - The background color of an input group of type box.
/// @param {Color} $box-background-hover [null] - The background color on hover of an input group of type box.
/// @param {Color} $box-disabled-background [null] - The background color of an input group of type box in the disabled state.
/// @param {Color} $border-background [null] - The background color of an input group of type border.
/// @param {Color} $border-disabled-background [null] - The background color of an input group of type border in the disabled state.
/// @param {Color} $search-background [null] - The background color of an input group of type search.
/// @param {Color} $search-disabled-background [null] - The background color of an input group of type search in the disabled state.
/// @param {box-shadow} $search-resting-shadow [null] - The shadow color of an input group of type search in its resting state.
/// @param {box-shadow} $search-hover-shadow [null] - The shadow color of an input group of type search in its hover state.
/// @param {box-shadow} $search-disabled-shadow [null] - The shadow color of an input group of type search in its disabled state.
/// @param {Color} $success-secondary-color [null] - The success color used in the valid state.
/// @param {Color} $warning-secondary-color [null] - The warning color used in the warning state.
/// @param {Color} $error-secondary-color [null] - The error color used in the error state.
/// @param {border-radius} $box-border-radius [null] - The border radius used for box input.
/// @param {border-radius} $border-border-radius [null] - The border radius used for border input.
/// @param {border-radius} $search-border-radius [null] - The border radius used for search input.
/// @param {Color} placeholder-color [null] - The placeholder color of an input group.
/// @param {Color} disabled-placeholder-color [null] - The disabled placeholder color of an input group.
/// @example scss Change the focused border and label colors
///   $my-input-group-theme: input-group-theme($focused-secondary-color: pink, $focused-bottom-line-color: pink);
///   // Pass the theme to the css-vars() mixin
///   @include css-vars($my-input-group-theme);
@function input-group-theme(
    $schema: $light-schema,
    $elevations: null,

    $box-background: null,
    $box-background-hover: null,
    $box-disabled-background: null,
    $box-border-radius: null,

    $idle-text-color: null,
    $filled-text-color: null,
    $focused-text-color: null,
    $disabled-text-color: null,

    $idle-secondary-color: null,
    $filled-secondary-color: null,
    $focused-secondary-color: null,

    $idle-bottom-line-color: null,
    $hover-bottom-line-color: null,
    $focused-bottom-line-color: null,
    $interim-bottom-line-color: null,
    $disabled-bottom-line-color: null,

    $border-color: null,
    $hover-border-color: null,
    $focused-border-color: null,
    $disabled-border-color: null,

    $border-border-radius: null,
    $border-background: null,
    $border-disabled-background: null,

    $search-background: null,
    $search-disabled-background: null,
    $search-border-radius: null,
    $search-resting-shadow: null,
    $search-hover-shadow: null,
    $search-disabled-shadow: null,

    $success-secondary-color: null,
    $warning-secondary-color: null,
    $error-secondary-color: null,
    $success-shadow-color: null,
    $error-shadow-color: null,

    $placeholder-color: null,
    $disabled-placeholder-color: null,

    $input-prefix-color: null,
    $input-prefix-background: null,
    $input-suffix-color: null,
    $input-suffix-background: null,

    $toggle-button-background: null,
    $toggle-button-background-hover: null,
    $toggle-button-background-focus: null,
    $toggle-button-foreground: null,
    $toggle-button-foreground-hover: null,
    $toggle-button-foreground-focus: null,

    $clear-button-background: null,
    $clear-button-background-hover: null,
    $clear-button-background-focus: null,
    $clear-button-foreground: null,
    $clear-button-foreground-hover: null,
    $clear-button-foreground-focus: null,
) {
    $name: 'igx-input-group';
    $selector: 'igx-input-group, igx-date-range-start, igx-date-range-end';
    $input-group-schema: ();

    @if map.has-key($schema, $name) {
        $input-group-schema: map.get($schema, $name);
    } @else {
        $input-group-schema: $schema;
    }

    $theme: digest-schema($input-group-schema);

    $search-resting-elevation: map.get($input-group-schema, 'search-resting-elevation');
    $search-hover-elevation: map.get($input-group-schema, 'search-hover-elevation');
    $search-disabled-elevation: map.get($input-group-schema, 'search-disabled-elevation');

    @if not($placeholder-color) and $box-background {
        $placeholder-color: text-contrast($box-background);
    }

    @if not($placeholder-color) and $box-background-hover {
        $placeholder-color: text-contrast($box-background-hover);
    }

    @if not($placeholder-color) and $search-background {
        $placeholder-color: text-contrast($search-background);
    }

    @if not($search-resting-shadow) {
        $search-resting-shadow: elevation($search-resting-elevation);
    }

    @if not($search-hover-shadow) {
        $search-hover-shadow: elevation($search-hover-elevation);
    }

    @if not($search-disabled-shadow) {
        $search-disabled-shadow: elevation($search-disabled-elevation);
    }

    @if not($box-border-radius) {
        $box-border-radius: border-radius(map.get($theme, 'box-border-radius'));
    }

    @if not($border-border-radius) {
        $border-border-radius: border-radius(map.get($theme, 'border-border-radius'));
    }

    @if not($search-border-radius) {
        $search-border-radius: border-radius(map.get($theme, 'search-border-radius'));
    }

    @return extend($theme, (
        name: $name,
        selector: $selector,
        idle-text-color: $idle-text-color,
        filled-text-color: $filled-text-color,
        focused-text-color: $focused-text-color,
        disabled-text-color: $disabled-text-color,
        box-border-radius: $box-border-radius,
        border-border-radius: $border-border-radius,
        search-border-radius: $search-border-radius,
        idle-secondary-color: $idle-secondary-color,
        filled-secondary-color: $filled-secondary-color,
        focused-secondary-color: $focused-secondary-color,
        idle-bottom-line-color: $idle-bottom-line-color,
        hover-bottom-line-color: $hover-bottom-line-color,
        focused-bottom-line-color: $focused-bottom-line-color,
        interim-bottom-line-color: $interim-bottom-line-color,
        disabled-bottom-line-color: $disabled-bottom-line-color,
        border-color: $border-color,
        hover-border-color: $hover-border-color,
        focused-border-color: $focused-border-color,
        disabled-border-color: $disabled-border-color,
        box-background: $box-background,
        box-background-hover: $box-background-hover,
        box-disabled-background: $box-disabled-background,
        border-background: $border-background,
        border-disabled-background: $border-disabled-background,
        search-background: $search-background,
        search-disabled-background: $search-disabled-background,
        search-resting-shadow: $search-resting-shadow,
        search-hover-shadow: $search-hover-shadow,
        search-disabled-shadow: $search-disabled-shadow,
        success-secondary-color: $success-secondary-color,
        warning-secondary-color: $warning-secondary-color,
        error-secondary-color: $error-secondary-color,
        success-shadow-color: $success-shadow-color,
        error-shadow-color: $error-shadow-color,
        placeholder-color: $placeholder-color,
        disabled-placeholder-color: $disabled-placeholder-color,
        input-prefix-color: $input-prefix-color,
        input-prefix-background: $input-prefix-background,
        input-suffix-color: $input-suffix-color,
        input-suffix-background: $input-suffix-background,
        toggle-button-background: $toggle-button-background,
        toggle-button-background-hover: $toggle-button-background-hover,
        toggle-button-background-focus: $toggle-button-background-focus,
        toggle-button-foreground: $toggle-button-foreground,
        toggle-button-foreground-hover: $toggle-button-foreground-hover,
        toggle-button-foreground-focus: $toggle-button-foreground-focus,
        clear-button-background: $clear-button-background,
        clear-button-background-hover: $clear-button-background-hover,
        clear-button-background-focus: $clear-button-background-focus,
        clear-button-foreground: $clear-button-foreground,
        clear-button-foreground-hover: $clear-button-foreground-hover,
        clear-button-foreground-focus: $clear-button-foreground-focus,
    ));
}

/// @param {Map} $theme - The theme used to style the component.
@mixin input-group($theme) {
    @include css-vars($theme);

    $transition-timing: .25s $out-cubic;

    $variant: map.get($theme, variant);
    $material-theme: $variant == 'material';
    $indigo-theme: $variant == 'indigo-design';
    $fluent-theme: $variant == 'fluent';
    $bootstrap-theme: $variant == 'bootstrap';
    $NOT-material-theme: $variant != 'material';
    $NOT-indigo-theme: $variant != 'indigo-design';
    $NOT-fluent-theme: $variant != 'fluent';
    $NOT-bootstrap-theme: $variant != 'bootstrap';

    $required-symbol: '*';
    $required-symbol-margin: rem(2px);

    // This creates an inverse relationship
    // between the value of the base scale size and
    // the sizing of all inner elements.
    // i.e. the bigger the scale size,
    // the smaller the padding of the inner items.
    $base-scale-size: (
        'comfortable': 16px,
        'cosy': 19px,
        'compact': 22px
    );

    $bootstrap-inline-padding: (
        'comfortable': rem(16px),
        'cosy':rem(12px),
        'compact': rem(8px)
    );

    $bootstrap-block-padding: (
        'comfortable': rem(8px),
        'cosy': rem(6px),
        'compact': rem(4px)
    );

    $bootstrap-font-size: (
        'comfortable': rem(20px),
        'cosy': rem(16px),
        'compact': rem(14px),
    );

    $bundle-padding-top: (
        'comfortable': rem(18px, map.get($base-scale-size, 'comfortable')),
        'cosy': rem(18px, map.get($base-scale-size, 'cosy')),
        'compact': rem(18px, map.get($base-scale-size, 'compact')),
    );

    $hint-padding-top: rem(6px, map.get($base-scale-size, 'comfortable'));
    $hint--box-margin: rem(12px, map.get($base-scale-size, 'comfortable'));

    // Base Start
    %form-group-prefix--upload {
        padding: 0;
    }

    %form-group-prefix {
        grid-area: 1 / 1 / auto / auto;
    }

    %form-group-suffix {
        grid-area: 1 / 3 / auto / auto;
    }

    %form-group-prefix,
    %form-group-suffix {
        position: relative;
        display: inline-flex;
        width: max-content;
        align-items: center;
        @if $indigo-theme {
            height: calc(100% - #{rem(1px)});
        } @else {
            height: 100%;
        }
        transition: color $transition-timing;
        padding-inline: pad-inline(rem(8px), rem(12px), rem(16px));
    }

    %form-group-prefix--compact,
    %form-group-suffix--compact {
        font-size: rem(map.get($base-scale-size, 'compact') - 1px, map.get($base-scale-size, 'compact'));
    }

    %form-group-prefix--filled {
        color: var-get($theme, 'filled-text-color');
    }

    igx-input-group {
        --theme: #{map.get($theme, 'variant')};
    }

    %form-group-display--box {
        %form-group-border {
            margin-bottom: 0;
        }
    }

    %form-group-display {
        --component-size: var(--ig-size, var(--ig-size-large));

        position: relative;
        display: block;
        color: var-get($theme, 'idle-text-color');

        igx-prefix,
        [igxPrefix] {
            @extend %form-group-prefix;
            outline-style: none;
        }

        igx-suffix,
        [igxSuffix] {
            @extend %form-group-suffix;
            outline-style: none;
        }

        input,
        textarea,
        span {
            font: inherit;
            margin: 0;
        }

        input[type='file'] {
            @include hide-default();
        }

        textarea {
            overflow: auto;
        }

        input[type='number'] {
            -moz-appearance: textfield;
        }

        // Don't show the number spinner
        input[type='number']::-webkit-inner-spin-button {
            -webkit-appearance: none;
            height: auto;
        }

        input[type='search']::-webkit-search-cancel-button,
        input[type='search']::-webkit-search-decoration {
            -webkit-appearance: none;
        }
    }

    %form-group-display--cosy {
        --component-size: var(--ig-size, var(--ig-size-medium));
    }

    %form-group-display--compact {
        --component-size: var(--ig-size, var(--ig-size-small));

        igx-prefix,
        [igxPrefix] {
            @extend %form-group-prefix--compact;
        }

        igx-suffix,
        [igxSuffix] {
            @extend %form-group-suffix--compact;
        }
    }

    %form-group-display--no-margin {
        margin-top: 0;
    }

    %form-group-display--filled {
        igx-prefix,
        [igxPrefix],
        igx-suffix,
        [igxSuffix] {
            @extend %form-group-prefix--filled;
        }
    }

    %form-group-box-wrapper {
        @if $variant != 'bootstrap' {
            border-radius: var-get($theme, 'box-border-radius');
        }

        @if $variant == 'material' {
            border-end-start-radius: border-radius(rem(0));
            border-end-end-radius: border-radius(rem(0));
        }
        overflow: hidden;
    }

    %form-group-display--disabled {
        user-select: none;
        color: var-get($theme, 'disabled-text-color') !important;

        igx-prefix,
        [igxPrefix] {
            @extend %form-group-prefix--disabled;
        }

        igx-suffix,
        [igxSuffix] {
            @extend %form-group-suffix--disabled;
        }
    }

    %form-group-bundle {
        --size: #{sizable(rem(40px), rem(48px), rem(56px))};

        position: relative;
        display: grid;
        grid-template-columns: auto 1fr auto;
        max-width: 100%;
        padding-block-start: pad-inline(map.get($bundle-padding-top, 'compact'), map.get($bundle-padding-top, 'cosy'), map.get($bundle-padding-top, 'comfortable'));
        font-size: 1rem;
        grid-area: 1 / 2 / span 1 / span 2;

        @if $variant != 'material' {
            height: var(--size);
        }

        &::after {
            content: '';
            position: absolute;
            bottom: 0%;
            width: 100%;
            height: rem(1px);
            background: var-get($theme, 'idle-bottom-line-color');
            transition: height $transition-timing, background-color $transition-timing;
        }
    }

    %form-group-bundle--box {
        // padding 0 i needed here because of the search variant
        padding: 0 !important;

        background: var-get($theme, 'box-background');

        &:hover {
            background: var-get($theme, 'box-background-hover');
        }
    }

    %form-group-bundle--box-focus {
        background: var-get($theme, 'box-background-hover');
    }

    %form-group-bundle--box-disabled {
        @if $NOT-indigo-theme {
            background-color: var-get($theme, 'box-disabled-background');
            background-image: none !important;
        } @else {
            background: transparent;
        }

        &::after {
            display: block !important;
            background: var-get($theme, 'disabled-bottom-line-color');
        }
    }

    %form-group-bundle--hover {
        cursor: pointer;

        &::after {
            height: rem(1px);
            background: var-get($theme, 'hover-bottom-line-color');
        }
    }

    %form-group-bundle--focus {
        caret-color: var-get($theme, 'focused-secondary-color');

        @if $NOT-indigo-theme {
            &::after {
                background: var-get($theme, 'interim-bottom-line-color');
            }
        } @else {
            &::after {
                background: var-get($theme, 'focused-bottom-line-color');
            }
        }
    }

    %form-group-bundle--success {
        caret-color: var-get($theme, 'success-secondary-color');

        &::after {
            height: rem(1px);
            background: var-get($theme, 'success-secondary-color');
        }
    }

    %form-group-bundle--error {
        caret-color: var-get($theme, 'error-secondary-color');

        &::after {
            height: rem(1px);
            background: var-get($theme, 'error-secondary-color');
        }
    }

    %form-group-bundle--disabled {
        @if $NOT-indigo-theme {
            box-shadow: none;
        } @else {
            &::after {
                height: rem(1px);
                background: var-get($theme, 'disabled-bottom-line-color');
            }
        }

        background-image: linear-gradient(to left, var-get($theme, 'disabled-bottom-line-color') 40%, transparent 10%);
        background-position: bottom;
        background-size: rem(4px) rem(1px);
        background-repeat: repeat-x;

        [dir='rtl'] & {
            background-image: linear-gradient(to right, var-get($theme, 'disabled-bottom-line-color') 40%, transparent 10%);
        }

        &::after {
            display: none;
        }
    }

    %form-group-bundle-start,
    %form-group-bundle-end {
        --min-width: #{sizable(rem(4px), rem(6px), rem(8px))};
        min-width: var(--min-width);
        min-height: 100%;
        overflow: hidden;
    }

    %form-group-bundle--border {
        --size: #{sizable(rem(40px), rem(48px), rem(56px))};

        display: grid;
        grid-template-columns: auto auto 1fr auto;
        align-items: initial;
        padding: 0;
        box-shadow: none;
        border-radius: var-get($theme, 'border-border-radius');
        background: var-get($theme, 'border-background');

        %form-group-bundle-start {
            width: auto;
            flex-shrink: 0;
            grid-area: 1 / 1;

            border: {
                color: var-get($theme, 'border-color');
                style: solid;

                inline: {
                    start-width: rem(1px);
                    end-width: 0;
                };

                block: {
                    start-width: rem(1px);
                    end-width: rem(1px);
                };

                start: {
                    start-radius: rem(4px);
                };

                end: {
                    start-radius: rem(4px);
                };
            }
        }

        %igx-input-group__filler {
            grid-area: 1 / 3;
            border: {
                width: rem(1px);
                style: solid;
                color: var-get($theme, 'idle-text-color');
                left: none;
                right: none;
            }
        }

        %igx-input-group__notch {
            display: flex;
            align-items: center;
            width: auto;
            min-width: 0;
            height: 100%;
            grid-area: 1 / 2;
            padding: 0 rem(4px);

            border-block-start: rem(1px) solid var-get($theme, 'border-color');
            border-block-end: rem(1px) solid var-get($theme, 'border-color');

            overflow: visible;

            &:empty {
                display: none;
            }
        }

        %form-group-bundle-main {
            background: transparent;
            padding: 0 rem(4px) !important;
            font-size: rem(16px);
            grid-area: 1 / 2 / span 1 / span 2;
        }

        %form-group-bundle-end {
            display: flex;
            justify-content: flex-end;
            flex-grow: 1;
            height: 100%;
            grid-area: 1 / 4;
            min-width: rem(12px);

            border: {
                color: var-get($theme, 'border-color');
                style: solid;

                inline: {
                    start-width: 0;
                    end-width: rem(1px);
                };

                block: {
                    start-width: rem(1px);
                    end-width: rem(1px);
                };

                start: {
                    end-radius: rem(4px);
                };

                end: {
                    end-radius: rem(4px);
                };
            }
        }

        %form-group-prefix,
        %form-group-suffix {
            height: 100%;
        }

        &::after {
            display: none;
        }
    }

    %form-group-bundle-border--disabled {
        background: var-get($theme, 'border-disabled-background');
    }

    %form-group-input--border {
        width: 100%;
        height: 100% !important;
        border: none;
        outline-style: none;
        color: inherit;
        z-index: 1;
    }

    %form-group-bundle--search {
        padding-inline: pad-inline(rem(16px, map.get($base-scale-size, 'compact')), rem(16px, map.get($base-scale-size, 'cosy')), rem(16px, map.get($base-scale-size, 'comfortable')));
        border-radius: var-get($theme, 'search-border-radius');
        background: var-get($theme, 'search-background');
        box-shadow: var-get($theme, 'search-resting-shadow');
    }

    %form-group-bundle-search--hover {
        box-shadow: var-get($theme, 'search-hover-shadow');
        border-color: var-get($theme, 'hover-border-color');
    }

    %form-group-bundle-search--focus {
        box-shadow: var-get($theme, 'search-hover-shadow');
        border-color: var-get($theme, 'hover-border-color');
    }

    %form-group-bundle-search--error {
        box-shadow: var-get($theme, 'search-hover-shadow');
        border-color: var-get($theme, 'search-hover-shadow');
    }

    %form-group-bundle-search--success {
        box-shadow: var-get($theme, 'search-hover-shadow');
        border-color: var-get($theme, 'search-hover-shadow');
    }

    %form-group-bundle-search--disabled {
        background: var-get($theme, 'search-disabled-background');
        box-shadow: var-get($theme, 'search-disabled-shadow');
        border-color: var-get($theme, 'disabled-border-color');
    }

    %form-group-bundle-main {
        position: relative;
        flex-grow: 1;
        max-width: inherit;
    }

    %form-group-bundle-main--border {
        min-height: var(--size);
    }

    %form-group-bundle-main--box {
        padding-block-start: pad-inline(rem(18px, map.get($base-scale-size, 'compact')), rem(18px, map.get($base-scale-size, 'cosy')), rem(18px, map.get($base-scale-size, 'comfortable')));
    }

    // Base Label
    %form-group-label {
        @include ellipsis();
        position: absolute;
        max-width: 100%;
        padding-inline-end: rem(4px);
        transform: translateY(50%); /* 8px, base is 16px */
        line-height: 1 !important;
        height: rem(18px);
        backface-visibility: hidden;
        will-change: transform;
        transform-origin: top left;
        transition: transform $transition-timing, color $transition-timing, margin $transition-timing;
        margin-inline-start: pad-inline(0, rem(-2px), rem(-4px));

        [dir='rtl'] & {
            transform-origin: top right;
        }
    }

    // Base box label
    %form-group-label--box {
        transform: translateY(0);

        + %form-group-input--box,
        ~ %form-group-file-input--box {
            transform: translateY(0);
        }
    }

    // Base box border
    %form-group-label--border {
        padding-inline-end: 0;
        display: inline-block;
        position: relative;
        background: transparent;
        transition: all $transition-timing;
        height: auto;
    }

    %form-group-label--border,
    %form-group-label--search {
        transform: translateY(0);
    }

    %form-group-label--search {
        + %form-group-input--search {
            transform: translateY(0);
        }
    }

    %form-group-label--float {
        transform: translateY(-50%);
        font-size: rem(12px);
        margin-top: auto;
    }

    %form-group-label--focused-border,
    %form-group-label--filled-border,
    %form-group-label--placeholder-border,
    %form-group-label--file-border {
        %igx-input-group__notch {
            border-block-start-color: transparent !important;
        }
    }

    %form-group-label--focused-border {
        %form-group-bundle-start {
            border-inline-start-width: rem(2px);
            border-block-start-width: rem(2px);
            border-block-end-width: rem(2px);
            border-inline-start-color: var-get($theme, 'focused-border-color');
            border-block-start-color: var-get($theme, 'focused-border-color');
            border-block-end-color: var-get($theme, 'focused-border-color');
        }

        %form-group-bundle-end {
            border-inline-end-width: rem(2px);
            border-block-start-width: rem(2px);
            border-block-end-width: rem(2px);
            border-inline-end-color: var-get($theme, 'focused-border-color');
            border-block-start-color: var-get($theme, 'focused-border-color');
            border-block-end-color: var-get($theme, 'focused-border-color');
        }

        %igx-input-group__filler,
        %igx-input-group__notch {
            border-block-width: rem(2px);
        }

        %igx-input-group__filler {
            border-block-color: var-get($theme, 'focused-border-color');
        }

        %igx-input-group__notch {
            border-block-end-color: var-get($theme, 'focused-border-color');
        }

        %form-group-prefix {
            &:first-child {
                margin-inline-start: rem(-1px);
            }
        }

        %form-group-suffix {
            &:last-child {
                margin-inline-end: rem(-1px);
            }
        }
    }

    %form-group-border--success {
        %form-group-bundle-start {
            border-inline-start-color: var-get($theme, 'success-secondary-color');
            border-block-start-color: var-get($theme, 'success-secondary-color');
            border-block-end-color: var-get($theme, 'success-secondary-color');
        }

        %form-group-bundle-end {
            border-inline-end-color: var-get($theme, 'success-secondary-color');
            border-block-start-color: var-get($theme, 'success-secondary-color');
            border-block-end-color: var-get($theme, 'success-secondary-color');
        }

        %igx-input-group__notch,
        %igx-input-group__filler {
            border-block-color: var-get($theme, 'success-secondary-color');
        }
    }

    %form-group-border--warning {
        %form-group-bundle-start {
            border-inline-start-color: var-get($theme, 'warning-secondary-color');
            border-block-start-color: var-get($theme, 'warning-secondary-color');
            border-block-end-color: var-get($theme, 'warning-secondary-color');
        }

        %form-group-bundle-end {
            border-inline-end-color: var-get($theme, 'warning-secondary-color');
            border-block-start-color: var-get($theme, 'warning-secondary-color');
            border-block-end-color: var-get($theme, 'warning-secondary-color');
        }

        %igx-input-group__notch,
        %igx-input-group__filler {
            border-block-color: var-get($theme, 'warning-secondary-color');
        }
    }

    %form-group-border--error {
        %form-group-bundle-start {
            border-inline-start-color: var-get($theme, 'error-secondary-color');
            border-block-start-color: var-get($theme, 'error-secondary-color');
            border-block-end-color: var-get($theme, 'error-secondary-color');
        }

        %form-group-bundle-end {
            border-inline-end-color: var-get($theme, 'error-secondary-color');
            border-block-start-color: var-get($theme, 'error-secondary-color');
            border-block-end-color: var-get($theme, 'error-secondary-color');
        }

        %igx-input-group__notch,
        %igx-input-group__filler {
            border-block-color: var-get($theme, 'error-secondary-color');
        }
    }

    %form-group-border--disabled {
        %form-group-bundle-start {
            border-inline-start-color: var-get($theme, 'disabled-border-color');
            border-block-start-color: var-get($theme, 'disabled-border-color');
            border-block-end-color: var-get($theme, 'disabled-border-color');
        }

        %form-group-bundle-end {
            border-inline-end-color: var-get($theme, 'disabled-border-color');
            border-block-start-color: var-get($theme, 'disabled-border-color');
            border-block-end-color: var-get($theme, 'disabled-border-color');
        }

        %igx-input-group__notch,
        %igx-input-group__filler {
            border-block-color: var-get($theme, 'disabled-border-color');
        }
    }

    %form-group-label--float-border {
        --label-position: #{sizable(18px, 22px, 26px)};
        transform: translateY(calc(var(--label-position) * -1));
        font-size: rem(12px);
        margin-top: 0;
        overflow: hidden;
        will-change: font-size, color, transform;
    }

    %form-group-textarea-group-bundle {
        // 3 lines * 22px + 8px bottom padding + 8px top padding
        --size: #{sizable(rem(82px, map.get($base-scale-size, 'compact')), rem(82px, map.get($base-scale-size, 'cosy')), rem(82px, map.get($base-scale-size, 'comfortable')))};
        min-height: var(--size) !important;
        height: auto !important;
    }

    %form-group-label-textarea {
        transition-duration: 0ms;
    }

    %form-group-label-textarea-border--float {
        @if $material-theme {
            margin-bottom: calc(100% + #{rem(4px)}) !important;
        }
    }

    %form-group-label-textarea--float {
        @if $material-theme {
            transform: translateY(rem(-5px)) !important;
            margin-block-end: auto !important;
        }
    }

    %form-group-label--fixed {
        transition: color $transition-timing;
    }

    %form-group-label--focus {
        color: var-get($theme, 'focused-secondary-color');
    }

    %form-group-label--success {
        color: var-get($theme, 'success-secondary-color');
    }

    %form-group-label--error {
        color: var-get($theme, 'error-secondary-color');
    }

    %form-group-label--required {
        &::after {
            content: '#{$required-symbol}';
            font-size: inherit;
            vertical-align: top;
            margin-inline-start: $required-symbol-margin; /* rem(2px) base is 16px */
            display: inline-block;
        }
    }

    %form-group-input {
        position: relative;
        display: block;
        border: none;
        height: #{sizable(rem(32px, map.get($base-scale-size, 'cosy')), rem(32px, map.get($base-scale-size, 'compact')), rem(32px, map.get($base-scale-size, 'comfortable')))};
        width: 100%;
        min-width: 0;
        background: transparent;
        color: var-get($theme, 'filled-text-color');
        outline-style: none;
        box-shadow: none;
        overflow: hidden;
        text-overflow: ellipsis;

        &:not([type='date']) {
            line-height: 0 !important; /* Reset typography */
        }

        &::-webkit-input-placeholder {
            line-height: normal;
        }

        &::placeholder {
            color: var-get($theme, 'placeholder-color');
            opacity: 1;
            line-height: normal; /* Fix placeholder position in Safari */
        }
    }

    %form-group-file-input {
        position: relative;
        width: 100%;
        max-width: 100%;
        overflow: hidden;
        height: #{sizable(rem(32px, map.get($base-scale-size, 'compact')), rem(32px, map.get($base-scale-size, 'cosy')), rem(32px, map.get($base-scale-size, 'comfortable')))};
        color: var-get($theme, 'filled-text-color');

        @if $NOT-bootstrap-theme {
            margin-block-start: rem(3px);
        }

        span {
            @include ellipsis();
            position: absolute;
            display: inline-block;
            width: inherit;
            max-width: inherit;
            top: 50%;
            transform: translateY(-50%);
        }
    }

    %form-group-input--compact {
        font-size: rem(map.get($base-scale-size, 'compact') - 1px, map.get($base-scale-size, 'compact'));
    }

    %form-group-file-input--compact {
        height: rem(32px, map.get($base-scale-size, 'compact'));
    }

    %form-group-upload-button[igxButton] {
        margin-bottom: rem(10px);
    }

    %form-group-clear-icon {
        &:focus {
            border-radius: border-radius(rem(4px));
            background-color: color($color: 'primary', $variant: 500);
            color: contrast-color($color: 'primary', $variant: 500);

            @if $variant == 'material' {
                background-color: transparent;
                color: color($color: 'secondary', $variant: 500);
            }

            @if $variant == 'fluent' {
                border-radius: 0;
            }

            @if $variant == 'bootstrap' {
                border-radius: 0;
                color: contrast-color($color: 'primary', $variant: 600);
            }
        }
    }

    %chrome-autofill-fix {
        &:-webkit-autofill,
        &:-webkit-autofill:hover,
        &:-webkit-autofill:focus,
        &:-webkit-autofill:active {
            -webkit-transition-delay: 99999s;
            transition-delay: 99999s;
        }
    }

    %edge-clear-icon-fix {
        &::-ms-clear {
            display: none;
        }
    }

    %form-group-input--box,
    %form-group-file-input--box,
    %form-group-input--search,
    %form-group-input--indigo,
    %form-group-file-input-indigo {
        transform: translateY(-25%);
    }

    %form-group-input--hover {
        cursor: pointer;
    }

    %form-group-input--focus {
        cursor: text;
        color: var-get($theme, 'focused-text-color');
    }

    %form-group-input--disabled {
        color: var-get($theme, 'disabled-text-color') !important;

        &::placeholder {
            color: var-get($theme, 'disabled-placeholder-color');
        }
    }

    %form-group-textarea {
        --size: #{sizable(rem(82px, map.get($base-scale-size, 'compact')), rem(82px, map.get($base-scale-size, 'cosy')), rem(82px, map.get($base-scale-size, 'comfortable')))};

        min-height: var(--size);
        height: auto;
        resize: vertical;
        overflow: hidden;
        @if $material-theme {
            margin-block-start: rem(10px) !important;
        }

        // resets typography styles
        line-height: normal !important;

        z-index: 1;

        &:not([type='*']) {
            line-height: normal !important; /* resets typography styles */
        }
    }

    %form-group-textarea--disabled {
        color: var-get($theme, 'disabled-text-color') !important;

        &::placeholder {
            color: var-get($theme, 'disabled-placeholder-color');
        }
    }

    %form-group-border {
        position: absolute;
        width: 100%;
        inset-inline-end: 0;
        height: rem(2px);
        grid-column: 1 / -1;
        align-self: end;
        transform: scaleX(0);
        transform-origin: center;
        background: var-get($theme, 'focused-secondary-color');
        z-index: 1;
    }

    %form-group-border--focus {
        transform: scaleX(1);
        transition: transform $transition-timing;
    }

    // Hides the border for border type input
    %form-group-border--hidden {
        display: none;
    }

    %form-group-helper {
        position: relative;
        display: flex;
        padding-top: rem(6px, map.get($base-scale-size, 'comfortable'));
        justify-content: space-between;

        > * {
            margin-inline-end: rem(8px);

            &:last-child {
                margin-inline-end: 0;
            }
        }

        &:empty {
            display: none;
        }
    }

    %form-group-help--cosy {
        padding-top: rem(6px, map.get($base-scale-size, 'cosy'));
    }

    %form-group-help--compact {
        padding-top: rem(6px, map.get($base-scale-size, 'compact'));
    }

    %form-group-helper--box {
        margin-inline-start: $hint--box-margin; /* 16px, base is 12px */
        margin-inline-end: $hint--box-margin; /* 16px, base is 12px */
    }

    %form-group-helper--success {
        color: var-get($theme, 'success-secondary-color');
    }

    %form-group-helper--error {
        color: var-get($theme, 'error-secondary-color');
    }

    %form-group-helper-item {
        display: flex;
        align-items: center;
        position: relative;
    }

    %form-group-helper-item--start {
        justify-content: flex-start;
    }

    %form-group-helper-item--end {
        justify-content: flex-end;
    }

    %form-group-helper-item--start,
    %form-group-helper-item--end {
        width: 100%;
    }

    %form-group-prefix--disabled,
    %form-group-suffix--disabled {
        color: var-get($theme, 'disabled-text-color') !important;
        pointer-events: none;
    }
    // BASE END

    // ==============================================

    // INDIGO START
    %form-group-bundle--indigo {
        transition: background $transition-timing, box-shadow $transition-timing;
        background: var-get($theme, 'box-background');
        box-shadow: inset 0 rem(-1px) 0 0 var-get($theme, 'idle-bottom-line-color');
        padding-top: 0;

        &:hover,
        &:focus {
            background: var-get($theme, 'box-background-hover');
        }
    }

    %indigo--box-focused {
        background: var-get($theme, 'box-background-hover');
    }

    %form-group-helper--indigo--disabled {
        color: var-get($theme, 'disabled-text-color');
    }

    %form-group-bundle--indigo--disabled {
        box-shadow: inset 0 rem(-1px) 0 0 var-get($theme, 'disabled-bottom-line-color');

        &:hover,
        &:focus {
            background: transparent;
            box-shadow: inset 0 rem(-1px) 0 0 var-get($theme, 'disabled-bottom-line-color');
        }
    }

    %form-group-textarea--indigo {
        --margin-start: #{sizable(rem(18px, map.get($base-scale-size, 'compact')), rem(18px, map.get($base-scale-size, 'cosy')), rem(18px, map.get($base-scale-size, 'comfortable')))};
        margin-block-start: calc(var(--margin-start) * -1);
    }
    // INDIGO END

    // ==============================================

    // FLUENT START
    // Input
    %igx-input-group-fluent {
        display: flex;
        flex-direction: column;

        igx-prefix,
        [igxPrefix] {
            @extend %form-group-prefix-fluent;
        }

        igx-suffix,
        [igxSuffix] {
            @extend %form-group-suffix-fluent;
        }

        igx-prefix,
        [igxPrefix],
        igx-suffix,
        [igxSuffix] {
            outline-style: none;
        }

        select {
            width: calc(100% + #{rem(8px)});
            margin-inline-start: rem(-8px) !important;
            cursor: pointer !important;
        }
    }

    %igx-input-group-fluent-search {
        display: flex;
        flex-direction: column;

        igx-prefix,
        [igxPrefix] {
            overflow: hidden;
        }
    }

    %igx-input-group-fluent-search--focused {
        igx-prefix,
        [igxPrefix] {
            visibility: hidden;
            width: 0;
            padding-inline-start: 0 !important;
        }
    }

    %igx-input-group-fluent-search--cosy {
        display: flex;
        flex-direction: column;

        igx-prefix,
        [igxPrefix],
        igx-suffix,
        [igxSuffix] {
            outline-style: none;
        }
    }

    %igx-input-group-fluent--compact {
        igx-prefix,
        [igxPrefix] {
            outline-style: none;
        }

        igx-suffix,
        [igxSuffix] {
            @extend %form-group-suffix-fluent--compact;
            outline-style: none;
        }
    }

    %igx-input-group-fluent-search--compact {
        display: flex;
        flex-direction: column;

        igx-prefix,
        [igxPrefix] {
            outline-style: none;
        }

        igx-suffix,
        [igxSuffix] {
            outline-style: none;
        }
    }

    // Bundle
    %form-group-bundle-required--fluent {
        &::before {
            content: '*';
            position: absolute;
            top: rem(-8px);
            inset-inline-start: calc(100% + #{rem(4px)});
            color: var-get($theme, 'error-secondary-color');
        }
    }

    %form-group-bundle--fluent {
        --size: #{sizable(rem(32px), rem(40px), rem(48px))};
        --min-width: #{sizable(rem(4px), rem(6px), rem(8px))};

        min-height: var(--size);
        padding: 0;
        border: rem(1px) solid var-get($theme, 'border-color');
        background: var-get($theme, 'border-background');
        align-items: stretch;
        box-shadow: none !important;
        overflow: hidden;

        @if $variant == 'fluent' {
            border-radius: var-get($theme, 'border-border-radius');
        }

        &::after {
            display: none;
        }
    }

    %form-group-bundle--fluent--hover {
        border-color: var-get($theme, 'hover-border-color');
        box-shadow: none;
    }

    %form-group-bundle--fluent--focus {
        caret-color: var-get($theme, 'focused-text-color');
        border-color: var-get($theme, 'focused-border-color');
    }

    %form-group-bundle--fluent--hover-disabled,
    %form-group-bundle--fluent-disabled {
        border-color: var-get($theme, 'disabled-border-color');
        background: var-get($theme, 'border-disabled-background');
    }

    %form-group-bundle-error--fluent,
    %form-group-bundle-error--fluent--hover,
    %form-group-bundle-error--fluent--focus {
        border-color: var-get($theme, 'error-secondary-color');
    }

    %form-group-bundle-success--fluent,
    %form-group-bundle-success--fluent--hover,
    %form-group-bundle-success--fluent--focus {
        border-color: var-get($theme, 'success-secondary-color');
    }

    %form-group-bundle-main--fluent {
        padding-inline-start: rem(8px);
        align-self: center;
        cursor: default;
    }

    // Native input
    %fluent-input {
        padding: 0;
        margin: 0;
        border: none;
    }

    %fluent-input-disabled {
        color: var-get($theme, 'disabled-text-color');
    }

    // Label
    %fluent-label {
        display: inline-flex;
        padding: rem(5px) 0;
        font-size: rem(14px, 16px);
        font-weight: 600;
        line-height: normal !important;
        position: static;
        transform: translateY(0);
        transform-origin: top left;
        margin-top: 0 !important;
        height: auto;

        @if $fluent-theme {
            color: color(null, 'gray', 800);
        }

        [dir='rtl'] & {
            transform-origin: top right;
        }
    }

    %fluent-label + %form-group-bundle-required--fluent {
        &::before {
            display: none;
        }
    }

    %fluent-label-success {
        color: var-get($theme, 'idle-text-color');
    }

    %fluent-label-error {
        color: var-get($theme, 'idle-text-color');
    }

    %fluent-label-disabled {
        color: color(null, 'gray', 500);
    }

    %fluent-label-filled {
        transform: translateY(0);
    }

    %fluent-label-focused {
        color: color(null, 'gray', 800);
        transform: translateY(0) scale(1);
    }

    %fluent-placeholder-label {
        transform: translateY(0) scale(1);
    }

    %form-group-prefix-fluent {
        color: var-get($theme, 'input-prefix-color');
        background: var-get($theme, 'input-prefix-background');
    }

    %form-group-suffix-fluent {
        color: var-get($theme, 'input-suffix-color');
        background: var-get($theme, 'input-suffix-background');
    }

    %form-group-prefix-fluent,
    %form-group-suffix-fluent {
        .ig-typography [igx-button],
        .ig-typography igx-button,
        .ig-typography button,
        button {
            border-radius: 0;
            height: 100%;
        }
    }

    %form-group-prefix-fluent,
    %form-group-suffix-fluent,
    %form-group-prefix-fluent-search,
    %form-group-suffix-fluent-search {
        padding-inline: pad-inline(rem(8px), rem(12px), rem(16px));

        igx-icon {
            width: var(--igx-icon-size, #{rem(18px)});
            height: var(--igx-icon-size, #{rem(18px)});
            font-size: var(--igx-icon-size, #{rem(18px)});
        }
    }

    %form-group-prefix-fluent-search--compact,
    %form-group-suffix-fluent-search--compact,
    %form-group-prefix-fluent--compact,
    %form-group-suffix-fluent--compact {
        font-size: rem(map.get($base-scale-size, 'compact') - 1px, map.get($base-scale-size, 'compact'));
    }

    %fluent-upload-button {
        padding: 0;
    }
    // FLUENT END

    // ==============================================

    // === BOOTSTRAP START === //
    // Input group host
    %form-group-display--bootstrap {
        igx-prefix,
        [igxPrefix] {
            @extend %form-group-prefix--bootstrap;
        }

        igx-suffix,
        [igxSuffix] {
            @extend %form-group-suffix--bootstrap;
        }
    }

    %form-group-display--bootstrap-prefixed {
        %bootstrap-file-input,
        %bootstrap-input {
            border: {
                start: {
                    start-radius: 0;
                };
                end: {
                    start-radius: 0;
                };
            }
        }

        %form-group-bundle-start--bootstrap {
            border: {
                start: {
                    start-radius: border-radius(rem(4px));
                };
                end: {
                    start-radius: border-radius(rem(4px));
                };
            }
        }
    }

    %form-group-display--bootstrap-suffixed {
        %bootstrap-file-input,
        %bootstrap-input {
            border: {
                start: {
                    end-radius: 0;
                };
                end: {
                    end-radius: 0;
                };
            }
        }

        %form-group-bundle-end--bootstrap {
            border: {
                start: {
                    end-radius: border-radius(rem(4px));
                };
                end: {
                    end-radius: border-radius(rem(4px));
                };
            }
        }
    }

    %form-group-display--disabled-bootstrap {
        background-image: none;

        igx-prefix,
        [igxPrefix] {
            @extend %form-group-prefix--disabled-bootstrap;
        }

        igx-suffix,
        [igxSuffix] {
            @extend %form-group-suffix--disabled-bootstrap;
        }

        %form-group-bundle-start--bootstrap,
        %form-group-bundle-end--bootstrap {
            border-color: var-get($theme, 'disabled-border-color');
        }
    }

    // Bundle
    %form-group-bundle--bootstrap {
        --size: #{sizable(rem(31px), rem(38px), rem(48px))};

        padding: 0;
        box-shadow: none;
        z-index: 0;

        &::after {
            display: none;
        }
    }

    %form-group-bundle--bootstrap-hover {
        border: none;
        box-shadow: none;
    }

    %form-group-bundle-start--bootstrap,
    %form-group-bundle-end--bootstrap {
        &:empty {
            display: none;
        }

        border-width: rem(1px);
        border-style: solid;
        border-color: var-get($theme, 'border-color');
        overflow: hidden;
    }

    %form-group-bundle-start--bootstrap {
        grid-area: 1 / 1;

        border: {
            inline: {
                start-width: rem(1px);
                end-width: 0;
            };
            block: {
                start-width: rem(1px);
                end-width: rem(1px);
            };
            start: {
                start-radius: border-radius(rem(4px));
            };
            end: {
                start-radius: border-radius(rem(4px));
            };
        }
    }

    %form-group-bundle-end--bootstrap {
        grid-area: 1 / 3;

        border: {
            inline: {
                start-width: 0;
                end-width: rem(1px);
            };
            block: {
                start-width: rem(1px);
                end-width: rem(1px);
            };
            start: {
                end-radius: border-radius(rem(4px));
            };
            end: {
                end-radius: border-radius(rem(4px));
            };
        }
    }

    // Label
    %bootstrap-label {
        position: static;
        display: block;
        color: var-get($theme, 'idle-secondary-color');
        padding: 0;
        line-height: normal !important;
        transform: translateY(0);
        transform-origin: top left;
        margin-block-start: 0 !important;
        margin-block-end: pad-inline(rem(4px), rem(6px), rem(8px));
        height: auto;
        font-size: pad(rem(14px), rem(14px), rem(16px));

        [dir='rtl'] & {
            transform-origin: top right;
        }
    }

    // Native Input
    %bootstrap-input {
        height: auto;
        line-height: 1.5;
        margin: 0;
        font-size: pad(map.get($bootstrap-font-size, 'compact'), map.get($bootstrap-font-size, 'cosy'), map.get($bootstrap-font-size, 'comfortable'));
        padding-block: pad-inline(map.get($bootstrap-block-padding, 'compact'), map.get($bootstrap-block-padding, 'cosy'), map.get($bootstrap-block-padding, 'comfortable'));
        padding-inline: pad-inline(map.get($bootstrap-inline-padding, 'compact'), map.get($bootstrap-inline-padding, 'cosy'), map.get($bootstrap-inline-padding, 'comfortable'));
        transition: box-shadow .15s ease-out, border .15s ease-out;
    }

    %bootstrap-input,
    %bootstrap-file-input {
        border: rem(1px) solid var-get($theme, 'border-color');
        padding-block: pad-inline(map.get($bootstrap-block-padding, 'compact'), map.get($bootstrap-block-padding, 'cosy'), map.get($bootstrap-block-padding, 'comfortable'));
        padding-inline: pad-inline(map.get($bootstrap-inline-padding, 'compact'), map.get($bootstrap-inline-padding, 'cosy'), map.get($bootstrap-inline-padding, 'comfortable'));
        grid-area: 1 / 2 / auto / auto;
        border-radius: border-radius(rem(4px));
        z-index: 1;
    }

    %bootstrap-file-input {
        height: inherit;
    }

    %bootstrap-input--focus {
        border: rem(1px) solid var-get($theme, 'focused-border-color');
        box-shadow: 0 0 0 rem(4px) var-get($theme, 'focused-secondary-color');
    }

    %bootstrap-input--success {
        border: rem(1px) solid var-get($theme, 'success-secondary-color');
        box-shadow: 0 0 0 rem(4px) var-get($theme, 'success-shadow-color');
    }

    %bootstrap-input--error {
        border: rem(1px) solid var-get($theme, 'error-secondary-color');
        box-shadow: 0 0 0 rem(4px) var-get($theme, 'error-shadow-color');
    }

    %bootstrap-input--disabled {
        background: var-get($theme, 'border-disabled-background');
        border: rem(1px) solid var-get($theme, 'disabled-border-color');
        box-shadow: none;
    }

    %bootstrap-input--search {
        transform: translateY(0);
    }

    // Suffix & prefix
    %form-group-prefix--bootstrap {
        color: var-get($theme, 'input-prefix-color');
        background: var-get($theme, 'input-prefix-background');
    }
    %form-group-suffix--bootstrap {
        color: var-get($theme, 'input-suffix-color');
        background: var-get($theme, 'input-suffix-background');
    }

    %form-group-prefix--disabled-bootstrap,
    %form-group-suffix--disabled-bootstrap {
        @if $variant == 'bootstrap' {
            border: rem(1px) solid var-get($theme, 'disabled-border-color');
        }
        color: var-get($theme, 'disabled-text-color');
    }

    // Upload button for file type input
    %bootstrap-upload-button {
        padding: 0;

        [igxButton] {
            min-height: 0;
            height: calc(100% - #{rem(8px)});
        }
    }
}

/// Adds typography styles for the igx-input-group component.
/// Uses the 'body-1', 'caption'
/// category from the typographic scale.
/// @group typography
/// @param {Map} $categories [(helper-text: 'caption', input-text: 'subtitle-1')] - The categories from the typographic scale used for type styles.
@mixin input-group-typography(
    $categories: (
        helper-text: 'caption',
        input-text: 'subtitle-1'
    )
) {
    $helper-text: map.get($categories, 'helper-text');
    $input-text: map.get($categories, 'input-text');

    %form-group-input {
        @include type-style($input-text) {
            margin: 0;
        }
    }

    %form-group-helper {
        @include type-style($helper-text) {
            margin: 0;
        }
    }

    %form-group-prefix,
    %form-group-suffix {
        @include type-style($input-text) {
            margin: 0;
        }
    }
}

