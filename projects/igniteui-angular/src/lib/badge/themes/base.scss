@use 'sass:map';
@use 'igniteui-theming/sass/bem' as *;
@use 'igniteui-theming/sass/themes' as *;
@use 'igniteui-theming/sass/typography' as *;
@use 'igniteui-theming/sass/color/functions' as *;
@use './light/themes' as *;

$theme: $material;

%igx-badge-display {
    --size: #{rem(22px)};
    --_badge-size: var(--size);
    display: inline-flex;
    justify-content: center;
    align-items: center;
    min-width: var(--_badge-size);
    min-height: var(--_badge-size);
    color: var-get($theme, 'text-color');
    background: var-get($theme, 'background-color');
    border-radius: calc(var(--size) / 2);
    box-shadow: var-get($theme, 'elevation');
    overflow: hidden;

    @include type-style(caption) {
        margin: 0;
    }

    igx-icon {
        --size: var(--igx-icon-size, calc(var(--_badge-size) / 2)) !important;
        display: inline-flex;
        justify-content: center;
        align-items: center;
        font-weight: 400;
        color: var-get($theme, 'icon-color');
    }
}

%igx-badge--outlined {
    box-shadow: inset 0 0 0 rem(2px) var-get($theme, 'border-color');
}

%igx-badge--square {
    border-radius: var-get($theme, 'border-radius');
}

%igx-badge-value {
    white-space: nowrap;
    padding-inline: rem(4px);
}

%igx-badge--success {
    background: color($color: 'success');
}

%igx-badge--info {
    background: color($color: 'info');
}

%igx-badge--warn {
    background: color($color: 'warn');
}

%igx-badge--error {
    background: color($color: 'error');
}

%igx-badge--hidden {
    visibility: hidden;
}

@include b(igx-badge) {
    @include css-vars-from-theme($base, 'igx-badge');
    @extend %igx-badge-display !optional;

    @include e(value) {
        @extend %igx-badge-value !optional;
    }

    @include m(info) {
        @extend %igx-badge--info !optional;
    }

    @include m(success) {
        @extend %igx-badge--success !optional;
    }

    @include m(warning) {
        @extend %igx-badge--warn !optional;
    }

    @include m(error) {
        @extend %igx-badge--error !optional;
    }

    @include m(outlined) {
        @extend %igx-badge--outlined !optional;
    }

    @include m(square) {
        @extend %igx-badge--square !optional;
    }

    @include m(hidden) {
        @extend %igx-badge--hidden !optional;
    }
}
