<div
    role="row"
    class="igx-days-row"
    [title]="weekNumberHeader.long | titlecase"
>
    <div
        role="columnheader"
        *ngIf="showWeekNumbers"
        class="
        igx-day-label
        igx-day-label--week-number
        igx-days-row__label
        igx-days-row__label--week-number"
    >
        <span>
            <i>{{ weekNumberHeader.short | titlecase }}</i>
        </span>
    </div>
    <span
        role="columnheader"
        [attr.aria-label]="dayName.long"
        *ngFor="let dayName of weekHeaderLabels"
        class="igx-day-label igx-days-row__label"
    >
        <span class="igx-day-label__inner">
            {{ dayName.formatted | titlecase }}
        </span>
    </span>
</div>

<div
    *ngFor="
        let week of monthWeeks;
        last as isLast;
        index as i;
        trackBy: rowTracker
    "
    class="igx-days-row"
    role="row"
>
    <div
        *ngIf="showWeekNumbers"
        class="
        igx-day-item
        igx-day-item--week-number
        igx-days-row__day
        igx-days-row__day--week-number"
    >
        <span
            role="rowheader"
            class="
            igx-day-item__inner
            igx-day-item__inner--week-number
            igx-days-row__day-inner
            igx-days-row__day-inner--week-number"
        >
            {{ getWeekNumber(week[0]) }}
        </span>
    </div>

    <igx-day-item
        #item
        *ngFor="let day of week; trackBy: dateTracker"
        class="igx-day-item igx-day-item__day"
        role="gridcell"
        [attr.id]="item.isCurrentMonth && day.timestamp"
        [attr.aria-selected]="isSelected(day)"
        [attr.aria-disabled]="isDateDisabled(day.native)"
        [attr.aria-label]="
            isFirstInRange(day)
                ? day.native.toDateString() +
                  ', ' +
                  resourceStrings.igx_calendar_range_start
                : isLastInRange(day)
                  ? day.native.toDateString() +
                    ', ' +
                    resourceStrings.igx_calendar_range_end
                  : day.native.toDateString()
        "
        [date]="day"
        [viewDate]="viewDate"
        [selection]="selection"
        [selected]="isSelected(day)"
        [isActive]="isActiveDate(day)"
        [isLastInRange]="isLastInRange(day)"
        [isFirstInRange]="isFirstInRange(day)"
        [isWithinRange]="isWithinRange(day.native, true)"
        [isWithinPreviewRange]="isWithinPreviewRange(day.native)"
        [disabledDates]="disabledDates"
        [specialDates]="specialDates"
        [hideLeadingDays]="hideLeadingDays"
        [hideTrailingDays]="hideTrailingDays"
        [attr.tabindex]="-1"
        (click)="handleDateClick(item)"
        (mouseEnter)="changePreviewRange(day.native)"
        (mouseLeave)="clearPreviewRange()"
    >
        {{ formattedDate(day.native) }}
    </igx-day-item>
</div>
