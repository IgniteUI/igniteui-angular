@use 'igniteui-theming/sass/bem' as *;
@use 'igniteui-theming/sass/typography' as *;
@use 'styles/themes/standalone' as *;
@use '../light/tokens' as *;

$_theme: $material;

@include themed-block(igx-circular-bar, material) {
    // Do not use rem values here
    // This will break the component in Safari
    // https://github.com/IgniteUI/igniteui-webcomponents/issues/377
    --stroke-thickness: 1.3px;
    --scale-factor: 2.95;
}

@include themed-block(igx-circular-svg, material) {
    @include e(outer) {
        animation: igx-initial-dashoffset var(--_transition-duration) linear;
        stroke-width: calc(var(--stroke-thickness) + rem(0.75px));
    }

    @include m(indeterminate) {
        $radius: calc(var(--circular-size) / 2 - var(--stroke-thickness) * .5);
        $circumference: calc(#{$radius} * 2 * 3.1416);

        animation: 3s linear 0s infinite normal none running igx-rotate-center;
        transform-origin: 50% 50%;

        @include e(outer) {
            animation: igx-indeterminate-accordion 1.5s cubic-bezier(0, 0.085, 0.68, 0.53) normal infinite;
            stroke-dasharray: #{$circumference} #{$circumference};
        }

        &:dir(rtl) {
            animation-direction: reverse;

            @include e(outer) {
                animation-direction: reverse;
            }
        }
    }
}
