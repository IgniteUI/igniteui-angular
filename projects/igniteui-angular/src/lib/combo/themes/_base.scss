@use 'sass:map';
@use 'igniteui-theming/sass/bem' as *;
@use 'igniteui-theming/sass/themes' as *;
@use 'igniteui-theming/sass/typography' as *;
@use 'igniteui-theming/sass/color' as *;
@use 'styles/themes/standalone' as *;
@use 'igniteui-theming/sass/animations/easings' as *;
@use './light/tokens' as *;

$theme: $base;
$variant: map.get($theme, '_meta', 'variant');

@include layer(base) {
    @include b(igx-drop-down) {
        --_search-input-inline-padding: #{pad-inline(rem(4px), rem(8px), rem(16px))};
        --_search-input-block-padding: #{pad-block(rem(8px))};

        .igx-combo {
            display: contents;
        }
    }

    @include b(igx-combo) {
        position: relative;
        display: block;

        @include e(checkbox) {
            margin-inline-end: rem(8px);
        }

        @include e(search) {
            --igx-input-group-border-border-radius: 0;

            padding-inline: var(--_search-input-inline-padding);
            padding-block: var(--_search-input-block-padding);
            z-index: 26;
            border-bottom: rem(1px) dashed var-get($theme, 'search-separator-border-color');

            igx-input-group {
                --ig-size: 1;
            }
        }

        @include e(case-icon) {
            cursor: pointer;

            color: color($color: 'gray', $variant: 600);
            background: transparent;

            .igx-icon--inactive {
                --igx-icon-disabled-color: color($color: 'gray', $variant: 600);
                opacity: 1;
            }
        }

        @include e(case-icon, $m: 'active') {
            color: color($color: 'primary')
        }

        @include e(content) {
            .igx-vhelper--vertical {
                position: relative;
            }

            &:has(.igx-vhelper--vertical) {
                display: grid;
                grid-template-columns: 1fr auto;
            }

            position: relative;
            overflow: hidden;
            max-height: calc(var(--size) * 10);

            &:focus {
                outline: transparent;
            }
        }

        @include e(add) {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            position: relative;
            padding: rem(16px);
            gap: rem(16px);
            background: var-get($theme, 'empty-list-background');
        }

        @include e(add-item) {
            height: auto;
            background: var-get($theme, 'empty-list-background');
            justify-content: center;
            outline: none;
        }

        @include e(empty) {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 100%;
            color: var-get($theme, 'empty-list-placeholder-color');
            padding: 0 rem(24px);
            font-size: rem(13px);
        }

        //toggle-button-background: $toggle-button-background,
        //toggle-button-background-focus: $toggle-button-background-focus,
        //toggle-button-background-disabled: $toggle-button-background-disabled,
        //toggle-button-foreground: $toggle-button-foreground,
        //toggle-button-foreground-focus: $toggle-button-foreground-focus,
        //toggle-button-foreground-disabled: $toggle-button-foreground-disabled,
        //toggle-button-foreground-filled: $toggle-button-foreground-filled,
        //toggle-button-background-focus--border: $toggle-button-background-focus--border,

        //clear-button-background: $clear-button-background,
        //clear-button-background-focus: $clear-button-background-focus,
        //clear-button-foreground: $clear-button-foreground,
        //clear-button-foreground-focus: $clear-button-foreground-focus,

        //@if $variant == 'bootstrap' {
        //    .igx-input-group--disabled {
        //        %igx-combo__toggle-button {
        //            border-inline-start-width: rem(1px);
        //            border-inline-start-style: solid;
        //            border-inline-start-color: inherit;
        //        }
        //    }
        //
        //    igx-suffix:not(.igx-combo__clear-button) + %igx-combo__toggle-button {
        //        border-inline-start-width: rem(1px);
        //        border-inline-start-style: solid;
        //        border-inline-start-color: inherit;
        //    }
        //
        //    .igx-input-group__bundle::after {
        //        height: rem(1px) !important;
        //    }
        //}

        //.igx-input-group {
        //    %igx-combo__clear-button {
        //        @if $variant == 'bootstrap' {
        //            border-inline-end: rem(1px) solid var(--border-color);
        //        }
        //
        //        &:empty {
        //            padding: 0;
        //        }
        //    }
        //}

        //%form-group-bundle:not(%form-group-bundle--disabled):focus-within {
        //    %igx-combo__toggle-button {
        //        color: var-get($theme, 'toggle-button-foreground-focus');
        //        background: var-get($theme, 'toggle-button-background-focus');
        //    }
        //
        //    %igx-combo__clear-button {
        //        color: var-get($theme, 'clear-button-foreground-focus');
        //        background: var-get($theme, 'clear-button-background-focus');
        //    }
        //}

        //@if $variant == 'indigo' {
        //    %form-group-bundle:not(%form-group-bundle--disabled):hover {
        //        %igx-combo__toggle-button {
        //            color: var-get($theme, 'toggle-button-foreground-focus');
        //        }
        //    }
        //}
        //
        //.igx-input-group--filled {
        //    %igx-combo__toggle-button {
        //        color: var-get($theme, 'toggle-button-foreground-filled');
        //    }
        //}

        //.igx-input-group--focused {
        //    %igx-combo__toggle-button {
        //        color: var-get($theme, 'toggle-button-foreground-focus');
        //        background: var-get($theme, 'toggle-button-background-focus');
        //    }
        //
        //    %igx-combo__clear-button {
        //        color: var-get($theme, 'clear-button-foreground-focus');
        //        background: var-get($theme, 'clear-button-background-focus');
        //    }
        //}

        //.igx-input-group.igx-input-group--focused:not(.igx-input-group--box) {
        //    @if $variant != 'fluent' {
        //        %igx-combo__toggle-button {
        //            background: var-get($theme, 'toggle-button-background-focus--border');
        //        }
        //    }
        //}
        //
        //.igx-input-group--disabled {
        //    %igx-combo__toggle-button {
        //        background: var-get($theme, 'toggle-button-background-disabled') !important;
        //        color: var-get($theme, 'toggle-button-foreground-disabled') !important;
        //    }
        //
        //    %igx-combo__clear-button {
        //        @if $variant == 'bootstrap' {
        //            border-inline-end: 0;
        //        }
        //    }
        //}

        //%form-group-bundle {
        //    &:hover {
        //        %igx-combo__clear-button {
        //            color: inherit;
        //        }
        //    }
        //}
    }
}
