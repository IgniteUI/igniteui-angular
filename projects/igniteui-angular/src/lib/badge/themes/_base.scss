@use 'igniteui-theming/sass/bem' as *;
@use 'igniteui-theming/sass/themes' as *;
@use 'igniteui-theming/sass/typography' as *;
@use 'igniteui-theming/sass/color/functions' as *;
@use 'styles/themes/standalone' as *;
@use './light/tokens' as *;

$theme: $material;

@include layer(base) {
    @include b(igx-badge) {
        @include sizable();

        --component-size: var(--ig-size, #{var-get($theme, 'default-size')});
        --badge-size: var(--component-size);
        --_badge-size: #{var-get($theme, 'size')};

        --igx-icon-size: #{sizable(rem(12px), rem(14px), rem(16px))};
        --igx-icon-color: #{var-get($theme, 'icon-color')};

        display: inline-flex;
        justify-content: center;
        align-items: center;
        min-width: var(--_badge-size);
        min-height: var(--_badge-size);
        color: var-get($theme, 'text-color');
        background: var-get($theme, 'background-color');
        border-radius: calc(var(--size) / 2);
        box-shadow: var-get($theme, 'elevation');
        overflow: hidden;
        font-size: sizable(var(--ig-caption-font-size), var(--ig-body-2-font-size), var(--ig-body-2-font-size));
        font-weight: sizable(var(--ig-caption-font-weight), var(--ig-body-2-font-weight), var(--ig-body-2-font-weight));
        line-height: sizable(var(--ig-caption-line-height), var(--ig-body-2-line-height), var(--ig-body-2-line-height));
        letter-spacing: sizable(var(--ig-caption-letter-spacing), var(--ig-body-2-letter-spacing), var(--ig-body-2-letter-spacing));
        text-transform: sizable(var(--ig-caption-text-transform), var(--ig-body-2-text-transform), var(--ig-body-2-text-transform));

        @include e(value) {
            white-space: nowrap;
            padding-inline: pad-inline(rem(4px), rem(6px), rem(8px));
        }

        @include m(info) {
            background: color($color: 'info', $variant: 800);
        }

        @include m(success) {
            background: color($color: 'success', $variant: 900);
        }

        @include m(warning) {
            background: color($color: 'warn');
            color: contrast-color($color: 'warn', $variant: 500);

            igx-icon {
                color: contrast-color($color: 'warn', $variant: 500);
            }
        }

        @include m(error) {
            background: color($color: 'error', $variant: 700);
            color: contrast-color($color: 'error', $variant: 900);
        }

        @include m(outlined) {
            box-shadow: 0 0 0 rem(2px) var-get($theme, 'border-color');
        }

        @include m(square) {
            border-radius: var-get($theme, 'border-radius');
        }

        @include m(dot) {
            --_dot-size: #{var-get($theme, 'dot-size')};

            min-width: var(--_dot-size);
            min-height: var(--_dot-size);
            padding: 0;

            igx-icon,
            > * {
                display: none;
            }
        }

        @include m(hidden) {
            visibility: hidden;
        }
    }
}
