////
/// @group typography
/// @author <a href="https://github.com/simeonoff" target="_blank">Simeon Simeonoff</a>
////

@use 'sass:map';
@use '../../../../../../../node_modules/igniteui-theming/sass/utils/meta' as *;
@use '../../../../../../../node_modules/igniteui-theming/sass/typography/mixins' as theming;
@use '../../../../../../../node_modules/igniteui-theming/sass/typography/presets' as presets;
@use '../components/banner/banner-theme' as *;
@use '../components/bottom-nav/bottom-nav-theme' as *;
@use '../components/button/button-theme' as *;
@use '../components/calendar/calendar-theme' as *;
@use '../components/card/card-theme' as *;
@use '../components/charts/category-chart-theme' as *;
@use '../components/charts/data-chart-theme' as *;
@use '../components/charts/financial-chart-theme' as *;
@use '../components/charts/funnel-chart-theme' as *;
@use '../components/charts/gauge-theme' as *;
@use '../components/charts/graph-theme' as *;
@use '../components/charts/pie-chart-theme' as *;
@use '../components/charts/shape-chart-theme' as *;
@use '../components/checkbox/checkbox-theme' as *;
@use '../components/chip/chip-theme' as *;
@use '../components/column-actions/column-actions-theme' as *;
@use '../components/date-range-picker/date-range-picker-theme' as *;
@use '../components/dialog/dialog-theme' as *;
@use '../components/dock-manager/dock-manager-theme' as *;
@use '../components/drop-down/drop-down-theme' as *;
@use '../components/expansion-panel/expansion-panel-theme' as *;
@use '../components/grid/excel-filtering-theme' as *;
@use '../components/input/input-group-theme' as *;
@use '../components/list/list-theme' as *;
@use '../components/navbar/navbar-theme' as *;
@use '../components/navdrawer/navdrawer-theme' as *;
@use '../components/radio/radio-theme' as *;
@use '../components/slider/slider-theme' as *;
@use '../components/snackbar/snackbar-theme' as *;
@use '../components/switch/switch-theme' as *;
@use '../components/stepper/stepper-theme' as *;
@use '../components/tabs/tabs-theme' as *;
@use '../components/time-picker/time-picker-theme' as *;
@use '../components/toast/toast-theme' as *;
@use '../components/tooltip/tooltip-theme' as *;
@use '../components/tree/tree-theme' as *;

@mixin _components-typography($type-scale) {
    $_variant: map.get(map.get($type-scale, '_meta'), 'variant');

    // Charts typography
    @include category-chart-typography($type-scale);
    @include data-chart-typography($type-scale);
    @include financial-chart-typography($type-scale);
    @include funnel-chart-typography($type-scale);
    @include gauge-typography();
    @include graph-typography();
    @include pie-chart-typography($type-scale);
    @include shape-chart-typography($type-scale);

    // Components typography
    @include banner-typography();
    @include bottom-nav-typography();
    @include button-typography();
    @include calendar-typography();
    @include card-typography();
    @include checkbox-typography();
    @include chip-typography();
    @include column-actions-typography();
    @include dialog-typography();
    @include drop-down-typography();
    @include date-range-typography();
    @include dock-manager-typography();
    @include excel-filtering-typography();
    @include expansion-panel-typography();
    @include input-group-typography();
    @include list-typography();
    @include navdrawer-typography();
    @include navbar-typography();
    @include slider-typography();
    @include stepper-typography();
    @include toast-typography();
    @include tooltip-typography();
    @include tree-typography();

    @if ($_variant == 'fluent') {
        @include checkbox-typography($categories: (
            label: 'body-2'
        ));

        @include input-group-typography($categories: (
            input-text: 'body-2'
        ));

        @include list-typography($categories: (
            item: 'caption',
            title: 'caption',
        ));

        @include chip-typography($categories: (
            text: 'subtitle-2'
        ));

        @include expansion-panel-typography($categories: (
            title: 'subtitle-1',
            description: 'body-2',
            body: 'caption'
        ));

        @include banner-typography($categories: (
            message: 'caption'
        ));
    }

    @if ($_variant == 'bootstrap') {
        $calendar-labels: map.get($type-scale, 'calendar-labels');

        @include calendar-typography($categories: (
            header-year: 'subtitle-1',
            header-date: 'h4',
            weekday-label: if($calendar-labels, 'calendar-labels', 'body-1'),
            picker-date: 'subtitle-1',
            content: 'body-1',
        ));

        @include dialog-typography($categories: (
            title: 'h5',
        ));

        @include drop-down-typography($categories: (
            header: 'subtitle-1',
            item: 'subtitle-1',
            select-item: 'subtitle-1',
        ));

        @include list-typography($categories: (
            item: 'body-2',
            title: 'body-1',
            subtitle: 'subtitle-1',
            header: 'overline',
        ));

        @include checkbox-typography($categories: (
            label: 'body-2',
        ));

        @include input-group-typography($categories: (
            helper-text: 'body-2',
            input-text: 'body-1'
        ));

        @include drop-down-typography($categories: (
            header: 'body-1',
            item: 'body-1',
            select-item: 'body-1'
        ));

        @include expansion-panel-typography($categories: (
            description: 'body-2',
            body: 'body-1'
        ));
    }

    @if ($_variant == 'indigo') {
        @include checkbox-typography($categories: (
            label: 'body-1',
        ));

        @include input-group-typography($categories: (
            input-text: 'body-1'
        ));

        @include list-typography($categories: (
            header: 'overline',
            subtitle: 'body-2'
        ));


        @include expansion-panel-typography($categories: (
            body: 'body-1'
        ));
    }
}

/// Adds typography styles for h1-h6, paragraph and creates custom typography class selectors.
/// The produces styles are based on the passed typeface and type scale.
/// If omitted the $material-typeface and $material-type-scale will be used.
/// @access public
/// @param {String} $font-family [$material-typeface] - The font family to be used across all typographic elements.
/// @param {Map} $type-scale [$material-type-scale] - A type scale map as produced by type-scale.
@mixin typography($font-family: presets.$material-typeface, $type-scale: presets.$material-type-scale) {
    $scope: if(is-root(), '.ig-typography', &);

    #{$scope} {
        font-family: var(--ig-font-family);
        @include _components-typography($type-scale);
    }

    @include theming.typography($font-family, $type-scale);
}
