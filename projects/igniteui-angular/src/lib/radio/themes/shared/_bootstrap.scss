@use 'igniteui-theming/sass/bem' as *;
@use 'igniteui-theming/sass/typography' as *;
@use 'igniteui-theming/sass/themes/functions' as *;
@use 'igniteui-theming/sass/color/functions' as *;
@use 'styles/themes/standalone' as *;
@use '../light/tokens' as *;

$_theme: $bootstrap;

@include themed-block(igx-radio, bootstrap) {
    --size: #{rem(16px)};
    --label-margin: #{rem(8px)};
    --scale: scale(0.4375);
    --border-width: #{rem(1px)};

    @include e(label) {
        @include type-style(body-1) {
            margin-block: 0;
        }
    }

    @include e(composite) {
        &::before {
            transition: none;
        }
    }

    &:hover {
        @include e(composite) {
            &::after {
                border: var(--border-width) solid
                    var-get($_theme, 'hover-color');
                transition: all 0.2s ease-in;
            }
        }
    }

    @include m(checked) {
        @include e(composite) {
            &::before {
                border-color: var-get($_theme, 'fill-hover-border-color');
                background: var-get($_theme, 'fill-hover-border-color');
            }

            &::after {
                background: var-get($_theme, 'fill-color');
            }
        }

        &:hover {
            @include e(composite) {
                &::after {
                    background: var-get($_theme, 'fill-color-hover');
                    border-color: var-get($_theme, 'fill-color-hover');
                }
            }
        }

        &:active {
            @include e(composite) {
                &::after {
                    background: var-get($_theme, 'fill-color-hover');
                    border-color: var-get($_theme, 'fill-color-hover');
                }
            }
        }
    }

    @include m(focused) {
        @include e(composite) {
            border-radius: border-radius(50%);
            box-shadow: 0 0 0 rem(4px) var-get($_theme, 'focus-outline-color');

            &::after {
                border-color: var-get($_theme, 'focus-border-color');
            }
        }

        &:hover {
            @include e(composite) {
                &::after {
                    border-color: hsl(from var-get($_theme, 'focus-border-color') h calc(s * 1.12) calc(l * 0.82));
                }
            }
        }
    }

    @include mx(focused, checked) {
        @include e(composite) {
            &::after {
                border-color: transparent;
            }
        }

        &:hover {
            @include e(composite) {
                &::after {
                    background: var-get($_theme, 'fill-color-hover');
                    border-color: var-get($_theme, 'fill-color-hover');
                }
            }
        }

        &:active {
            @include e(composite) {
                &::after {
                    background: var-get($_theme, 'fill-color-hover');
                    border-color: var-get($_theme, 'fill-color-hover');
                }
            }
        }
    }

    @include m(invalid) {
        &:hover {
            @include e(composite) {
                &::after {
                    border-color: var(--error-color-hover);
                }
            }
        }
    }

    @include mx(focused, invalid) {
        @include e(composite) {
            box-shadow: 0 0 0 rem(4px)
                var-get($_theme, 'focus-outline-color-error');

            &::after {
                border: var(--border-width) solid
                    var-get($_theme, 'error-color');
            }
        }

        &:hover {
            @include e(composite) {
                &::after {
                    border: var(--border-width) solid
                        var-get($_theme, 'error-color-hover');
                }
            }
        }
    }

    @include mx(checked, invalid) {
        @include e(composite) {
            &::after {
                background: var-get($_theme, 'error-color');
            }

            &::before {
                background: var-get($_theme, 'fill-hover-border-color');
            }
        }

        &:hover {
            @include e(composite) {
                &::after {
                    background: var-get($_theme, 'error-color-hover');
                    border-color: var-get($_theme, 'error-color-hover');
                }
            }
        }

        &:active {
            @include e(composite) {
                &::after {
                    background: var-get($_theme, 'error-color-hover');
                    border-color: var-get($_theme, 'error-color-hover');
                }
            }
        }
    }

    @include mx(invalid, disabled) {
        @include e(composite) {
            &::after {
                border-color: var-get($_theme, 'disabled-color');
            }
        }
    }

    @include mx(checked, disabled) {
        @include e(composite) {
            &::after {
                background: var-get($_theme, 'disabled-fill-color');
                border-color: var-get($_theme, 'disabled-fill-color');
            }
        }
    }
}

@include themed-block(igx-radio-group, bootstrap) {
    --horizontal-group-margin: #{rem(8px)};
    --vertical-group-margin: #{rem(8px)};
}
